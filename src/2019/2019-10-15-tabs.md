# æ‰‹å†™ä¸€ä¸ªé€‰é¡¹å¡ `Tabs` ç»„ä»¶ï¼ˆåŸºäº Reactï¼‰

![](http://www.iseeit.cn/wp-content/uploads/2019/10/20191015164451-0.jpg)

ç›®æ ‡
1. é»˜è®¤åªåŠ è½½å½“å‰éœ€è¦æ˜¾ç¤ºçš„é€‰é¡¹å¡å†…å®¹
2. é¦–æ¬¡åˆ‡æ¢åˆ°æŸä¸ªæœªåŠ è½½é€‰é¡¹å¡ä¹‹åï¼Œå…¶å†…å®¹æ‰è¿›è¡ŒåŠ è½½ï¼ˆæ‡’åŠ è½½ï¼‰
3. å·²åŠ è½½è¿‡çš„é€‰é¡¹å¡å†…å®¹ä¸å†é‡å¤åŠ è½½

## æ€è·¯

æ ¸å¿ƒæ€è·¯åŸºäºä»¥ä¸‹ä¸¤ç‚¹
1. é€‰é¡¹å¡å®¹å™¨çš„æ˜¾ç¤ºéšè—ç”¨ä¸€ä¸ªå˜é‡æ§åˆ¶ï¼Œç§°ä¸º `A`ï¼Œæ“ä½œ `display: none/block`;
2. é€‰é¡¹å¡å†…å®¹åŒºçš„æŒ‚è½½é€šè¿‡å¦å¤–ä¸€ä¸ªå˜é‡æ¥æ§åˆ¶ï¼Œç§°ä¸º `B`ï¼Œé»˜è®¤ `false`ï¼Œè¯¥é€‰é¡¹å¡ä¸åŠ è½½ï¼›ç¬¬ä¸€æ¬¡æ˜¾ç¤ºè¯¥é€‰é¡¹å¡æ—¶ï¼Œå˜é‡ `B` ç½®ä¸º `true`ï¼ŒåŠ è½½è¯¥é€‰é¡¹å¡ï¼Œå…¶åå˜é‡ `B` ä¸å†å˜åŒ–ï¼›é€‰é¡¹å¡æ˜¯å¦åŠ è½½é€šè¿‡ä¸‰ç›®å®ç°å¦‚ `B ? <é€‰é¡¹å¡å†…å®¹åŒºç»„ä»¶ /> : null`ã€‚

## ä»£ç å®ç°

`Tabs.js` ä¸»æ–‡ä»¶ä»£ç 

```
import React from 'react';
import PropTypes from 'prop-types';
import classnames from 'classnames';
import TabContent from './TabContent';

import './Tabs.scss';

export default class Tabs extends React.Component {
  static propTypes = {
    active: PropTypes.number,
  };

  static defaultProps = {
    active: 0,
  };

  constructor(props) {
    super(props);
    this.state = {
      active: props.active,
    };
    this.locks = [];
  }

  tabChange = (v) => {
    this.setState({
      active: v,
    });
  }

  render() {
    const {
      active,
    } = this.state;
    if (!this.locks[active]) {
      this.locks[active] = true;
    }
    return (
      <div className="tab-box">
        <ul className="pane">
          <li
            role="button"
            tabIndex="0"
            onKeyDown={() => {}}
            onClick={() => { this.tabChange(0); }}
            className={classnames('tab-bar', { active: active === 0 })}
          >tab1
          </li>
          <li
            role="button"
            tabIndex="0"
            onKeyDown={() => {}}
            onClick={() => { this.tabChange(1); }}
            className={classnames('tab-bar', { active: active === 1 })}
          >tab2
          </li>
          <li
            role="button"
            tabIndex="0"
            onKeyDown={() => {}}
            onClick={() => { this.tabChange(2); }}
            className={classnames('tab-bar', { active: active === 2 })}
          >tab3
          </li>
        </ul>
        <div
          className={classnames('tab-show-hide-box', { active: active === 0 })}
        >
          {
            this.locks[0] ?
              <TabContent>å†…å®¹1</TabContent>
            : null
          }
        </div>
        <div
          className={classnames('tab-show-hide-box', { active: active === 1 })}
        >
          {
            this.locks[1] ?
              <TabContent>å†…å®¹2</TabContent>
            : null
          }
        </div>
        <div
          className={classnames('tab-show-hide-box', { active: active === 2 })}
        >
          {
            this.locks[2] ?
              <TabContent>å†…å®¹3</TabContent>
            : null
          }
        </div>
      </div>
    );
  }
}
```

å†…å®¹åŒº `TabContent.js` æ–‡ä»¶ä»£ç 

```
import React from 'react';
import PropTypes from 'prop-types';

export default class TabContent extends React.Component {
  static propTypes = {
    children: PropTypes.node,
  };

  static defaultProps = {
    children: null,
  };

  componentDidMount() {
    console.log('I did mount');
  }

  render() {
    return (
      <div className="tab-content">
        {this.props.children}
      </div>
    );
  }
}
```

æ ·å¼æ–‡ä»¶ `Tabs.scss` ä»£ç 

```
.tab-box {
  margin-top: 25px;
  .pane {
    li {
      border: 1px solid #ccc;
      display: inline-block;
      padding: 10px 20px;
      cursor: pointer;
      margin-right: 5px;
      border-radius: 5px 5px 0 0;
      border-bottom-width: 0;
      outline: none;
      &.active {
        color: #fff;
        background-color: #f60;
        border-color: #f60;
      }
    }
  }
  .tab-show-hide-box {
    display: none;
    border: 1px solid #ccc;
    padding: 30px;
    margin-top: -1px;
    &.active {
      display: block;
    }
  }
}
```

## æ•ˆæœå›¾

é¦–æ¬¡åŠ è½½

![](http://www.iseeit.cn/wp-content/uploads/2019/10/20191015164115-1.jpg)

åˆ‡æ¢åˆ°æœªåŠ è½½è¿‡çš„é€‰é¡¹å¡

![](http://www.iseeit.cn/wp-content/uploads/2019/10/20191015164210-2.jpg)

åˆ‡æ¢å›å·²åŠ è½½é€‰é¡¹å¡

![](http://www.iseeit.cn/wp-content/uploads/2019/10/20191015164248-3.jpg)

æ˜¯çš„ï¼Œè¿™ç¯‡æ–‡ç« å°±æ˜¯ç”¨æ¥å‡‘æ•°çš„ï¼Œæ¬¢è¿å›æ¥ç»§ç»­å†™ä½œï¼ŒğŸ‘»ã€‚

ï¼ˆå®Œï¼‰
