# &nbsp- å’Œ æ™®é€šç©ºæ ¼çš„åŒºåˆ«

åå­—æ˜¯é•¿äº†ä¸€ç‚¹ï¼Œå…¶å®è¦è®¨è®ºçš„å°±æ˜¯å¦‚ä¸‹2ä¸ªé—®é¢˜

1. `&nbsp;` å’Œæ™®é€šç©ºæ ¼çš„åŒºåˆ«ï¼›
2. ä¸åŒçš„â€œç©ºæ ¼â€å’Œ `word-break` `word-wrap` `white-space`  å±æ€§å¦‚ä½•é…åˆï¼›

## `&nbsp;` å’Œæ™®é€šç©ºæ ¼çš„åŒºåˆ«

### æ™®é€šç©ºæ ¼

åœ¨ HTML ä¸­ï¼ŒW3C å¯¹äºæ™®é€šç©ºæ ¼çš„è§„å®šæ˜¯ï¼šé»˜è®¤æƒ…å†µä¸‹ï¼Œ[å¤šä¸ªâ€œéç©ºç™½å­—ç¬¦ä¹‹é—´çš„ç©ºæ ¼â€åœ¨æµè§ˆå™¨ä¸­ä¼šè¢«å‹ç¼©ä¸ºä¸€ä¸ªç©ºæ ¼æ˜¾ç¤º]((https://www.w3.org/TR/REC-html40/struct/text.html#h-9.1))ã€‚å¦‚ä¸‹ä»£ç ç¤ºä¾‹æ•ˆæœï¼ˆ[ç‚¹å‡»æŸ¥çœ‹æ•ˆæœ]((https://codepen.io/yukap6/pen/WLbJjq))ï¼‰

```
// html
<div id="outer">
  <div id="inner">start
    ä½ å¥½<span id="span">   ä¸­é—´æ–‡æœ¬ </span>ä¸–ç•Œ
  </div>
</div>

// css
#outer {
  background-color: #ccc;
}
#span {
  color: #f60;
}
```

æ•ˆæœå¦‚ä¸‹å›¾
![](../../images/2018/1210-1.png)

*å¦‚ä¸Šæ‰€ç¤ºï¼Œ`start` å’Œ `ä½ å¥½` ä¹‹é—´çš„å¤šä¸ªç©ºæ ¼è¢«å‹ç¼©ä¸ºäº†ä¸€ä¸ªç©ºæ ¼ï¼Œç¬¦åˆè§„èŒƒã€‚*

è¿™é‡Œå…¶å®è¿˜æœ‰2ä¸ªæœ‰æ„æ€çš„å°ç‚¹éœ€è¦æ³¨æ„

1. é»˜è®¤æƒ…å†µä¸‹ï¼Œ`#outer` å’Œ `#inner` div è„šæœ¬ä¹‹é—´çš„å¤§æ®µç©ºç™½ä»¥åŠä¸ºäº†æ’ç‰ˆçš„å›è½¦æ¢è¡Œï¼ˆä¹Ÿæ˜¯å±äºç©ºç™½ç¬¦ï¼‰æ˜¯å®Œå…¨è¢«å¿½ç•¥çš„ï¼›ï¼ˆåŸå› æ˜¯åªæœ‰éç©ºç™½å­—ç¬¦ä¹‹é—´çš„ç©ºç™½ç¬¦ä¼šè¢«å‹ç¼©ä¸ºä¸€ä¸ªç©ºæ ¼æ˜¾ç¤ºï¼Œ`#outer` å’Œ `#inner` æ ‡ç­¾ä¹‹é—´çš„ç©ºç™½ç¬¦æ˜¯æ²¡æœ‰è¢«ä»»ä½•éç©ºç™½å­—ç¬¦åŒ…è£¹çš„ï¼‰
2. `#span` å¯¹åº”çš„æ©˜è‰²æ–‡å­— `ä¸­é—´æ–‡æœ¬` å’Œå›´ç»•å®ƒçš„æ–‡æœ¬ä¹‹é—´çš„ç©ºæ ¼æ˜¯è¢«ä¿ç•™äº†çš„ï¼›ï¼ˆåŸå› æ˜¯å› ä¸º `<span>` è¿™ä¸ªè¡Œå†…å…ƒç´ é‡Œé¢çš„æ–‡æœ¬æ˜¯è¢«å¤–é¢çš„éç©ºç™½å­—ç¬¦åŒ…è£¹äº†çš„ï¼Œæ‰€ä»¥å…¶ç©ºç™½å­—ç¬¦è¢«ä¿ç•™ä¸ºä¸€ä¸ªæ¥æ˜¾ç¤ºï¼‰

### `&nbsp;`

å®šä¹‰ï¼šnbsp æ˜¯ nonbreakable space çš„ç¼©å†™ï¼Œä»å­—é¢æ„æ€å°±å¯ä»¥ç†è§£ï¼Œ `&nbsp;` æ˜¯ä¸å¯æŠ˜æ–­çš„ç©ºç™½å­—ç¬¦ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸ºç©ºæ ¼çš„å®ä½“è¡¨ç¤ºï¼Œä¹Ÿå°±æ˜¯è¯´ `&nbsp;` æœ¬è´¨æ˜¯ä¸Šæ˜¯ä¸€ä¸ªå­—ç¬¦ã€‚

æ—¢ç„¶å¦‚æ­¤ï¼Œå’Œæ™®é€šç©ºæ ¼çš„åŒºåˆ«å°±å¾ˆæ˜ç¡®äº†ï¼š`&nbsp;` æ˜¯å­—ç¬¦ï¼Œé‚£ä¹ˆæœ‰å¤šå°‘ä¸ª `&nbsp;`ï¼Œå°±ä¼šæ˜¾ç¤ºå¤šå°‘ä¸ªç©ºæ ¼ï¼Œè€Œä¸ä¼šå‡ºç°æµè§ˆå™¨çš„é»˜è®¤å‹ç¼©å’Œå¿½ç•¥é—®é¢˜ã€‚

## ç©ºç™½å­—ç¬¦å’Œ `word-break` `word-wrap` `white-space` çš„é…åˆä½¿ç”¨

é¦–å…ˆç®€å•ä»‹ç»ä¸‹æ¡ƒå›­ä¸‰å…„å¼Ÿ `word-break` `word-wrap` `white-space`ï¼Œè¯¦ç»†åˆ†æå¯ä»¥å‚è€ƒ [æ–‡ç« 1](https://www.zhangxinxu.com/wordpress/2015/11/diff-word-break-break-all-word-wrap-break-word/)ï¼Œ[æ–‡ç« 2](http://www.alloyteam.com/2016/05/css-word-for-word-breaker-do-you-really-understand/)ï¼Œç™½è¯æ€»ç»“å°±æ˜¯ï¼š

* `word-break` æŒ‡å®šäº†æ€æ ·åœ¨å•è¯å†…æ–­è¡Œï¼›
* `word-wrap` æŒ‡å®šå½“ä¸€ä¸ªä¸èƒ½è¢«åˆ†å¼€çš„å­—ç¬¦ä¸²å¤ªé•¿è€Œä¸èƒ½å¡«å……å…¶åŒ…è£¹ç›’æ—¶ï¼Œä¸ºé˜²æ­¢å…¶æº¢å‡ºï¼Œæµè§ˆå™¨æ˜¯å¦å…è®¸è¿™æ ·çš„å•è¯ä¸­æ–­æ¢è¡Œï¼›
* `white-space` æ§åˆ¶ç©ºç™½ç¬¦çš„å¤„ç†ï¼ˆä¸ºäº†æ‰©å±•æµè§ˆå™¨å¯¹ç©ºç™½ç¬¦å¤„ç†çš„å±€é™æ€§ï¼‰ï¼›

è¿™ä¹ˆè®²å¯èƒ½ä¸å¤Ÿæ˜ç™½ï¼Œä¸¾ä¸ªğŸŒ°å°±æ˜ç™½äº†ï¼ˆ[ç‚¹å‡»æŸ¥çœ‹ç¤ºä¾‹](https://codepen.io/yukap6/pen/YdPvxb)ï¼‰ã€‚

HTML å¦‚ä¸‹
```
<div class="question-box" ><div class="question-title" ><span class="question-number" ><span >1</span><span >.</span></span><span class="question-type"><span > </span><span >[å•é€‰é¢˜]</span></span><span class="question-content-text" >Jin&nbsp;Yongï¼Œ&nbsp;one&nbsp;of&nbsp;the&nbsp;most&nbsp;influential&nbsp;Chinese&nbsp;novelistsï¼Œ&nbsp;passed&nbsp;away&nbsp;on&nbsp;30th&nbsp;Octoberï¼Œ&nbsp;_______&nbsp;a&nbsp;great&nbsp;wave&nbsp;of&nbsp;reviewing&nbsp;of&nbsp;his&nbsp;classicsï¼ï¼ˆã€€ã€€ï¼‰</span></div><div class="question-content" ></div></div>

<br />
<!-- åä¸½çš„åˆ†å‰²çº¿ -->

<div class="question-box good" ><div class="question-title" ><span class="question-number" ><span >2</span><span >.</span></span><span class="question-type"><span > </span><span >[å•é€‰é¢˜]</span></span><span class="question-content-text" >Jin&nbsp;Yongï¼Œ&nbsp;one&nbsp;of&nbsp;the&nbsp;most&nbsp;influential&nbsp;Chinese&nbsp;novelistsï¼Œ&nbsp;passed&nbsp;away&nbsp;on&nbsp;30th&nbsp;Octoberï¼Œ&nbsp;_______&nbsp;a&nbsp;great&nbsp;wave&nbsp;of&nbsp;reviewing&nbsp;of&nbsp;his&nbsp;classicsï¼ï¼ˆã€€ã€€ï¼‰</span></div><div class="question-content" ></div></div>

<br />
<!-- åä¸½çš„åˆ†å‰²çº¿ -->

<div class="question-box" ><div class="question-title" ><span class="question-number" ><span >3</span><span >.</span></span><span class="question-type" ><span > </span><span >[å•é€‰é¢˜]</span></span><span class="question-content-text" >"Jin    Yongï¼Œ one of the most influential Chinese novelistsï¼Œ passed away on 30th Octoberï¼Œ _______ a great wave of reviewing of his classicsï¼ï¼ˆã€€ã€€ï¼‰</span></div><div class="question-content" ></div></div>
```

CSS å¦‚ä¸‹
```
.question-box {
  width: 500px;
  overflow: hidden;
}
.question-type {
  color: #f60;
}
.good {
  white-space: pre-wrap;
  word-break: keep-all;
  word-wrap: break-word;
}
```

æ•ˆæœå¦‚ä¸‹æˆªå›¾
![](../../images/2018/1210-2.png)

å¦‚ä¸Šç¤ºä¾‹ä¸­ï¼Œä¸‰ç»„ä»£ç ï¼ˆç”¨ `<!-- åä¸½çš„åˆ†å‰²çº¿ -->` åˆ†éš”ï¼‰æ•ˆæœå„ä¸ç›¸åŒï¼Œæ•ˆæœ1ã€æ•ˆæœ2éƒ½æœ‰é—®é¢˜ï¼Œæ•ˆæœ3æ‰æ˜¯æˆ‘ä»¬çš„ç†æƒ³æ•ˆæœï¼Œæ¥ä¸‹æ¥å°±åˆ†æä¸‹ä¸ºä»€ä¹ˆä¼šå‡ºç°è¿™äº›ä¸åŒçš„è¡¨ç°å‘¢ï¼Ÿ

æ•ˆæœ1ä¸­ï¼Œæºä»£ç é‡Œçš„è‹±æ–‡å•è¯æ˜¯ç”¨ `&nbsp;` åˆ†å‰²å¹¶è¿æ¥æˆé•¿å¥çš„ï¼Œæ²¡æœ‰è®¾ç½®ä»»ä½•æ¢è¡Œæ§åˆ¶ï¼Œå³é‡‡ç”¨æµè§ˆå™¨çš„é»˜è®¤æ¢è¡Œç­–ç•¥ï¼Œç»“æœæ˜¯æ•´ä¸ªè‹±æ–‡å¥å­è¡¨ç°çš„åƒä¸€ä¸ªé•¿å•è¯ä¸èƒ½è¢«æŠ˜æ–­çš„æƒ…å†µä¸€æ ·ï¼Œæº¢å‡ºäº†å¤–éƒ¨å®¹å™¨ã€‚è¿™é‡Œçš„åŸå› æ˜¯é»˜è®¤æƒ…å†µä¸‹ï¼Œæµè§ˆå™¨ä¼šå¯»æ‰¾å¯èƒ½æ¢è¡Œçš„åœ°æ–¹ï¼Œä½†æ˜¯åœ¨æ•ˆæœ1çš„æƒ…å†µä¸‹ï¼Œæ•´ä¸ªå¥å­éƒ½æ˜¯æ­£å¸¸å­—ç¬¦ï¼ˆ`&nbsp;` ä¹Ÿæ˜¯ä½œä¸ºå­—ç¬¦å¯¹å¾…çš„ï¼‰ï¼Œæ‰€æœ‰çš„å­—ç¬¦ç»„æˆäº†ä¸€ä¸ªå®é™…æ„ä¹‰ä¸Šçš„'é•¿å•è¯'ï¼Œè€Œä¸”æ²¡æœ‰ä»»ä½•å¯ä»¥ 'soft wrap' çš„ä½ç½®ï¼Œå…¶ç»“æœå°±æ˜¯ä½œä¸ºä¸€ä¸ªæ•´ä½“æº¢å‡ºäº†å®¹å™¨ã€‚

æ•ˆæœ2ä¸­ï¼Œå› ä¸ºè®¾ç½®äº†æ¢è¡Œè§„åˆ™å¦‚ä¸‹
```
.good {
  white-space: pre-wrap;
  word-break: keep-all;
  word-wrap: break-word;
}
```
ä¸Šé¢çš„è§„åˆ™æ„æ€æ˜¯åœ¨å•è¯å†…éƒ¨é»˜è®¤ä¸æŠ˜æ–­ï¼ˆ`word-break: keep-all`ï¼‰; å½“å†…å®¹æº¢å‡ºå®¹å™¨ä¸”æ‰¾ä¸åˆ°å¯ä»¥æ­£å¸¸æ¢è¡Œçš„ä½ç½®æ—¶å¯ä»¥å¯¹å•è¯è¿›è¡ŒæŠ˜æ–­ï¼ˆ`word-wrap: break-word`ï¼‰; æ‰€æœ‰çš„ç©ºç™½å­—ç¬¦ä¿ç•™ä¸”å¯ä»¥æ­£å¸¸æ¢è¡Œï¼ˆ`white-space: pre-wrap`ï¼‰ã€‚æ‰€ä»¥å°±å‡ºç°äº†å•è¯ `away` è¢«å¼ºåˆ¶æŠ˜æ–­æ¢è¡Œçš„æ•ˆæœäº†ã€‚

æ•ˆæœ3æ­£å¸¸æ˜¾ç¤ºï¼Œå› ä¸ºå¤§å®¶ä¼šå‘ç°è‹±æ–‡å•è¯ä¹‹é—´æ˜¯æ­£å¸¸ç©ºæ ¼è¿æ¥çš„ï¼Œè€Œä¸æ˜¯ `&nbsp;`ã€‚å› ä¸ºæ­£å¸¸çš„ç©ºæ ¼å±äºå¯æ­£å¸¸æ¢è¡Œä½ç½®ï¼Œæ‰€ä»¥å½“æµè§ˆå™¨å‘ç°å†…å®¹æº¢å‡ºäº†å¤–éƒ¨å®¹å™¨çš„æ—¶å€™ï¼Œåœ¨æ°å½“çš„ä½ç½®ï¼ˆç©ºç™½ç¬¦ä½ç½®ï¼‰è¿›è¡Œäº†æ¢è¡Œï¼ˆsoft wrapï¼‰ï¼Œæ–‡æœ¬å¯ä»¥æ­£å¸¸æ˜¾ç¤ºä¸ºä¸€è¡Œè€Œæ— è¯¡å¼‚æŠ˜è¡Œï¼Œä¹Ÿæ²¡æœ‰å•è¯çš„å¼ºåˆ¶æŠ˜æ–­ã€‚

è§£å†³æ–¹æ¡ˆæ‰¾åˆ°ï¼Œå¦‚æœé‡åˆ° `&nbsp;` è¿æ¥çš„è‹±æ–‡é•¿å¥å¯¼è‡´æ˜¾ç¤ºå¼‚å¸¸ï¼Œå¯ä»¥å…ˆæ­£åˆ™åŒ¹é…å°† `&nbsp;` æ›¿æ¢ä¸ºæ­£å¸¸ç©ºæ ¼åå†æ¸²æŸ“å³å¯ï¼Œæ­£åˆ™æä¾›å¦‚ä¸‹

```
const replaceNbspToSpace = (str = '') => str.replace(/&nbsp;/g, ' ');
```

OKï¼Œé‚£ä¹ˆç»ˆæè€ƒéªŒæ¥äº†ï¼Œå¦‚æœé‡åˆ°å¯Œæ–‡æœ¬ç¼–è¾‘åçš„ä»£ç ï¼Œå°±æ˜¯ç”¨ `&nbsp;` æ¥è¡¨ç¤ºç©ºæ ¼çš„ï¼Œè¦æ€ä¹ˆå¤„ç†æ‰èƒ½è®©æ–‡æœ¬æ­£å¸¸æ˜¾ç¤ºå‘¢ï¼Ÿæ¯”å¦‚ç”¨æˆ·ç¼–è¾‘äº†ä¸€ä¸ªå­—ç¬¦ç”»å¦‚ä¸‹

![](../../images/2018/1210-3.png)

è¿™æ—¶å€™ç®€å•çš„å°† `&nbsp;` æ›¿æ¢ä¸ºæ™®é€šç©ºæ ¼ä¹‹åå°±ä¼šå‘ç°å­—ç¬¦ç”»çš„æ’ç‰ˆä¼šå®Œå…¨ä¹±æ‰ï¼Œè¿™æ˜¯å› ä¸ºå­—ç¬¦ç”»é‡Œçš„å¤šä¸ª `&nbsp;` è¢«æ›¿æ¢ä¸ºæ™®é€šç©ºæ ¼ä¹‹åï¼Œåœ¨æµè§ˆå™¨ç«¯æ˜¾ç¤ºçš„æ—¶å€™ä¼šè¢«å‹ç¼©ä¸ºä¸€ä¸ªç©ºæ ¼æ¥æ˜¾ç¤ºã€‚æ€ä¹ˆè§£å†³å‘¢ï¼Ÿæ–¹æ¡ˆä¹Ÿå¾ˆç®€å•ï¼Œé‚£å°±æ˜¯æ”¹æ‰æµè§ˆå™¨å¯¹ç©ºæ ¼çš„é»˜è®¤å¤„ç†å³å¯ï¼Œä¿ç•™æ‰€æœ‰ç©ºæ ¼å¹¶æ˜¾ç¤ºï¼Œæ·»åŠ å¦‚ä¸‹æ ·å¼å³å¯ã€‚

```
white-space: pre-wrap;
```

pre æ˜¯ preserve çš„ç¼©å†™è¡¨ç¤ºä¿ç•™ï¼Œ`pre-wrap` å³ä¿ç•™ç™½å­—ç¬¦å¹¶æ˜¾ç¤ºï¼Œç„¶ååœ¨å¯ä»¥æ¢è¡Œçš„ä½ç½®è¿›è¡Œæ­£å¸¸æ¢è¡Œï¼ˆå½“ç„¶å¦‚æœè¦å®Œå…¨ä¿ç•™ç©ºç™½å­—ç¬¦ä¸”ä¸å…è®¸é»˜è®¤æ¢è¡Œè§„åˆ™çš„è¯ï¼Œå¯ä»¥è®¾ç½®ä¸º `white-space: pre;` å³å¯ï¼‰ã€‚

ï¼ˆå®Œï¼‰

å‚è€ƒé“¾æ¥

* https://www.zhangxinxu.com/wordpress/2015/11/diff-word-break-break-all-word-wrap-break-word/
* http://www.ruanyifeng.com/blog/2018/07/white-space.html
* http://www.alloyteam.com/2016/05/css-word-for-word-breaker-do-you-really-understand/
* https://www.w3.org/TR/REC-html40/struct/text.html#h-9.1
* https://drafts.csswg.org/css-text-3/#word-break
